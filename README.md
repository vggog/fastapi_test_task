# Тестовое задание
Задачи:

1. С помощью Docker (предпочтительно - docker-compose) развернуть образ с любой опенсорсной СУБД (предпочтительно - PostgreSQL). Предоставить все необходимые скрипты и конфигурационные (docker/compose) файлы для развертывания СУБД, а также инструкции для подключения к ней. Необходимо обеспечить сохранность данных при рестарте контейнера (то есть - использовать volume-ы для хранения файлов СУБД на хост-машине.

2. Реализовать на Python3 простой веб сервис (с помощью FastAPI или Flask, например), выполняющий следующие функции:
В сервисе должно быть реализовано REST API, принимающее на вход POST запросы с содержимым вида {"questions_num": integer}  ;

После получения запроса сервис, в свою очередь, запрашивает с публичного API (англоязычные вопросы для викторин)
https://jservice.io/api/random?count=1 указанное в полученном запросе количество вопросов.
Далее, полученные ответы должны сохраняться в базе данных из п. 1, 
причем сохранена должна быть как минимум следующая информация (название колонок и типы данный можете выбрать сами, также можете добавлять свои колонки): 
```
ID вопроса
Текст вопроса
Текст ответа
Дата создания вопроса. 
```
В случае, если в БД имеется такой же вопрос, к публичному API с викторинами должны выполняться дополнительные запросы до тех пор, пока не будет получен уникальный вопрос для викторины.
Ответом на запрос из п.2.a должен быть предыдущей сохранённый вопрос для викторины. 
В случае его отсутствия - пустой объект.
3. В репозитории с заданием должны быть предоставлены инструкции по сборке докер-образа с сервисом из п. 2., его настройке и запуску. А также пример запроса к POST API сервиса.
4. Желательно, если при выполнении задания вы будете использовать docker-compose, SqlAalchemy,  пользоваться аннотацией типов.


# Инструкция по запуску проекта

## Настройка проекта
1. В директории src/config создать файл .env
2. Скопировать содержимое файла .env_example в в файл .env
3. Прописать свои конфиги в файле .env

## Сборка проекта
Находясь в корневой директории проекта, выполнить команду  
```docker-compose build```

### Обновление до последней миграции
1. Запустить docker-compose  
```docker-compose up```
2. Открыв новое окно командой строки, в корневой директории выполнить команду  
```docker exec -it project-api alembic upgrade head```

## Запуск 
Для запуска проекта необходимо запустить docker-compose  
```docker-compose up```

Проект запущен и доступен по url-адресу http://0.0.0.0:8000

# Пример запроса
POST-запрос на url-адрес http://0.0.0.0:8000/api/questions
json:  
```
{
  "questions_num": 2
}
```
